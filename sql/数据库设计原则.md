# 数据库设计原则 
参考文档：  
数据库表结构设计方法及原则：https://zhuanlan.zhihu.com/p/32310499  

#数据库设计三范式
1. 数据库表中所有的字段都是不可在分解的原子值
2. 确保数据库中每一列都和主键相关，也就是锁一个表中只能保存一种数据，不可以把多种数据保存在同一张数据库表中。
3. 需要数据库表中每一个字段都和主键直接相关，而不能间接相关。

总结下来也是就是：
一范式保证每列的原子性；二范式保证没类都和主键相关；三范式保证没类都和主键直接相关，而不是间接相关。

# 具体设计过程
在具体设计过程中，应该根据系统结构对组件进行划分，采用领域驱动模型和方式和自上而下的思路进行数据库设计，**首先分析业务，根据职责定义对象。对象要符合封装特性，确保与职责相关的特性被封装在一个对象中**，不会出现职责描述缺失的情况。并且一个对象有且只有一项职责，如果一个对象有两个以上的职责，则要进行分拆。

表和表之间应尽量建立弱关联，尽量不要采用外建索引的强关联方式，针对主键和外键要建立索引，提高检索效率。

# 工作中常用的设计原则
1. 表必须有主键
2. 一个字段只表示一个含义
3. 建表是总是创建两个日期字段：createTime，updateTime，且这两个字段不应该包含额外的业务逻辑，mysql中这两个字段要是用datetime类型
4. 禁止使用复杂的数据类型（数组，自定义类型）
5. mysql附属表和主表分拆后附属表id和主表id保持一致，不允许附属表新增主键字段。
6. 有过期概念的表，要明确过期时间，过期后必须迁移到历史表中。
7. 不再使用的表应通知DBA进行更名归档，不再使用的字段为保证数据完整性，禁止删除。
